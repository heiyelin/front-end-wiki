<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CSS 基础 | Front-End-Wiki</title>
    <meta name="description" content="前端知识库">
    
    <meta property="article:modified_time" content="2019-12-13T01:34:01.000Z"><meta property="og:site_name" content="Front-End-Wiki"><meta property="og:title" content="CSS 基础"><meta property="og:type" content="website"><meta property="og:url" content="/guide/css/base.html"><meta name="twitter:title" content="CSS 基础"><meta name="twitter:url" content="/guide/css/base.html"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:label1" content="Written by">
    <link rel="preload" href="/assets/css/0.styles.9e24d197.css" as="style"><link rel="preload" href="/assets/js/app.0d36fc07.js" as="script"><link rel="preload" href="/assets/js/2.b6aa8f81.js" as="script"><link rel="preload" href="/assets/js/24.d4de5079.js" as="script"><link rel="prefetch" href="/assets/js/10.8bfd4ea1.js"><link rel="prefetch" href="/assets/js/11.fe52658a.js"><link rel="prefetch" href="/assets/js/12.e0e30b8d.js"><link rel="prefetch" href="/assets/js/13.1387d8d2.js"><link rel="prefetch" href="/assets/js/14.8288dbb9.js"><link rel="prefetch" href="/assets/js/15.5d7d6b17.js"><link rel="prefetch" href="/assets/js/16.eecd39ae.js"><link rel="prefetch" href="/assets/js/17.a2d9791b.js"><link rel="prefetch" href="/assets/js/18.3f3747e5.js"><link rel="prefetch" href="/assets/js/19.1cfd61e5.js"><link rel="prefetch" href="/assets/js/20.20c1d3b4.js"><link rel="prefetch" href="/assets/js/21.3b46cf8b.js"><link rel="prefetch" href="/assets/js/22.49b56ccd.js"><link rel="prefetch" href="/assets/js/23.04f55964.js"><link rel="prefetch" href="/assets/js/25.aba0c982.js"><link rel="prefetch" href="/assets/js/26.731d50fe.js"><link rel="prefetch" href="/assets/js/27.292b230a.js"><link rel="prefetch" href="/assets/js/28.ce5173b2.js"><link rel="prefetch" href="/assets/js/29.863219a8.js"><link rel="prefetch" href="/assets/js/3.6a70c1fb.js"><link rel="prefetch" href="/assets/js/30.398b963b.js"><link rel="prefetch" href="/assets/js/31.8c7b3aa2.js"><link rel="prefetch" href="/assets/js/32.b3465a7f.js"><link rel="prefetch" href="/assets/js/33.51b95476.js"><link rel="prefetch" href="/assets/js/34.040e3223.js"><link rel="prefetch" href="/assets/js/35.a62cada5.js"><link rel="prefetch" href="/assets/js/36.4f915af0.js"><link rel="prefetch" href="/assets/js/37.ec23df85.js"><link rel="prefetch" href="/assets/js/38.7605bc0e.js"><link rel="prefetch" href="/assets/js/39.b50c2b8b.js"><link rel="prefetch" href="/assets/js/4.f998eb39.js"><link rel="prefetch" href="/assets/js/40.2e9d8fee.js"><link rel="prefetch" href="/assets/js/41.fddf0c31.js"><link rel="prefetch" href="/assets/js/42.ddf5dc0a.js"><link rel="prefetch" href="/assets/js/43.2163f6ed.js"><link rel="prefetch" href="/assets/js/44.97cd1965.js"><link rel="prefetch" href="/assets/js/45.50edd4c2.js"><link rel="prefetch" href="/assets/js/46.dcbd0d34.js"><link rel="prefetch" href="/assets/js/47.ab312a1d.js"><link rel="prefetch" href="/assets/js/48.e29f594f.js"><link rel="prefetch" href="/assets/js/5.bd41f6e8.js"><link rel="prefetch" href="/assets/js/6.cfeabc90.js"><link rel="prefetch" href="/assets/js/7.df74b918.js"><link rel="prefetch" href="/assets/js/8.9b9d0339.js"><link rel="prefetch" href="/assets/js/9.d13b94b4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9e24d197.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Front-End-Wiki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">基础</a></div><div class="nav-item"><a href="/advance/" class="nav-link">进阶</a></div><div class="nav-item"><a href="/dev/" class="nav-link">全栈</a></div><div class="nav-item"><a href="/refer/" class="nav-link">扩展</a></div> <a href="https://github.com/heiyelin/front-end-wiki" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">基础</a></div><div class="nav-item"><a href="/advance/" class="nav-link">进阶</a></div><div class="nav-item"><a href="/dev/" class="nav-link">全栈</a></div><div class="nav-item"><a href="/refer/" class="nav-link">扩展</a></div> <a href="https://github.com/heiyelin/front-end-wiki" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/html/introduce.html" class="sidebar-link">HTML5</a></li><li><a href="/guide/html/web-storage.html" class="sidebar-link">浏览器本地存储</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>CSS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/css/base.html" class="active sidebar-link">CSS 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/css/base.html#关键概念" class="sidebar-link">关键概念</a></li><li class="sidebar-sub-header"><a href="/guide/css/base.html#css-选择器及其优先级" class="sidebar-link">CSS 选择器及其优先级</a></li><li class="sidebar-sub-header"><a href="/guide/css/base.html#css-盒模型" class="sidebar-link">CSS 盒模型</a></li><li class="sidebar-sub-header"><a href="/guide/css/base.html#块级上下文-bfc" class="sidebar-link">块级上下文 BFC</a></li></ul></li><li><a href="/guide/css/layout.html" class="sidebar-link">布局</a></li><li><a href="/guide/css/center-and-layout.html" class="sidebar-link">水平居中方案与常见布局</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="css-基础"><a href="#css-基础" class="header-anchor">#</a> CSS 基础</h1> <h2 id="关键概念"><a href="#关键概念" class="header-anchor">#</a> 关键概念</h2> <ul><li>语言语法和形式（The syntax and forms of the language）</li> <li>特殊性（另译优先级）、继承和级联（Specificity, inheritance and the Cascade）</li> <li>盒子模型和外边距合并（Box model and margin collapse）</li> <li>包含块（The containing block）</li> <li>堆叠和块格式化上下文（Stacking and block-formatting contexts）</li> <li>初始值、计算值、应用值和实际值（Initial, computed, used, and actual values）</li> <li>CSS 简写属性（CSS shorthand properties）</li> <li>CSS 弹性盒子布局 (CSS Flexible Box Layout)</li> <li>CSS 网格布局 (Grid Layout)</li> <li>媒体查询</li> <li>动画</li></ul> <h2 id="css-选择器及其优先级"><a href="#css-选择器及其优先级" class="header-anchor">#</a> CSS 选择器及其优先级</h2> <h3 id="_1-css-选择器与权值"><a href="#_1-css-选择器与权值" class="header-anchor">#</a> 1. CSS 选择器与权值</h3> <p>基本选择器：</p> <table><thead><tr><th>名称</th> <th>含义</th> <th>描述</th></tr></thead> <tbody><tr><td>elename</td> <td>元素选择器</td> <td>选择所有匹配给定元素名的元素</td></tr> <tr><td>.classname</td> <td>类选择器</td> <td>基于类属性的值来选择元素</td></tr> <tr><td>#idname</td> <td>id 选择器</td> <td>这种基本选择器会选择所有 id 属性与之匹配的元素。需要注意的是一个文档中每个 id 都应该是唯一的。</td></tr> <tr><td>* ns</td> <td>* *</td> <td>*</td></tr> <tr><td>[attr][attr=value] [attr~=value]attr</td> <td>=value] [attr^=value][attr$=value] [attr*=value]</td> <td>属性选择器</td></tr></tbody></table> <p>组合选择器：</p> <table><thead><tr><th>名称</th> <th>含义</th> <th>描述</th></tr></thead> <tbody><tr><td>A + B</td> <td>紧邻兄弟选择器</td> <td>'+' 操作符选择相邻元素，即第二个节点紧邻着第一个节点，并且拥有共同的父节点。</td></tr> <tr><td>A ~ B</td> <td>一般兄弟选择器</td> <td>'~' 操作符选择兄弟元素，也就是说，第二个节点在第一个节点后面的任意位置，并且这俩节点的父节点相同。</td></tr> <tr><td>A &gt; B</td> <td>子选择器</td> <td>'&gt;' 操作符选择第一个元素的直接子节点。</td></tr> <tr><td>A B</td> <td>后代选择器</td> <td>' ' (空格) 操作符将选择第一个元素的子代节点。</td></tr></tbody></table> <p>伪类： 允许基于未包含在文档树中的状态信息来选择元素。
伪元素： 表示所有未被包含在 HTML 的实体。</p> <h3 id="_2-优先级的计算规则"><a href="#_2-优先级的计算规则" class="header-anchor">#</a> 2. 优先级的计算规则</h3> <blockquote><p>内联 &gt; ID 选择器 &gt; 类选择器 &gt; 标签选择器。</p></blockquote> <p>优先级是由 A 、B、C、D 的值来决定的，其中它们的值计算规则如下：</p> <ul><li>如果存在内联样式，那么 A = 1, 否则 A = 0;</li> <li>B 的值等于 ID 选择器 出现的次数;</li> <li>C 的值等于 类选择器 和 属性选择器 和 伪类 出现的总次数;</li> <li>D 的值等于 标签选择器 和 伪元素 出现的总次数 。</li></ul> <h3 id="_3-伪元素与伪类的区别"><a href="#_3-伪元素与伪类的区别" class="header-anchor">#</a> 3. 伪元素与伪类的区别</h3> <p>伪类： 伪类用于当已有元素处于的某个状态时，为其添加对应的样式，这个状态是根据用户行为而动态变化的。比如说，当用户悬停在指定的元素时，我们可以通过<code>:hover</code>来描述这个元素的状态。虽然它和普通的 css 类相似，可以为已有的元素添加样式，但是它只有处于 dom 树无法描述的状态下才能为元素添加样式，所以将其称为伪类。</p> <p>伪元素： 伪元素用于创建一些不在文档树中的元素，并为其添加样式。比如说，我们可以通过<code>:before</code>来在一个元素前增加一些文本，并为这些文本添加样式。虽然用户可以看到这些文本，但是这些文本实际上不在文档树中。</p> <h3 id="_4-css-属性的继承"><a href="#_4-css-属性的继承" class="header-anchor">#</a> 4. CSS 属性的继承</h3> <p>继承属性：</p> <blockquote><p>当元素的一个继承属性 （inherited property）没有指定值时，则取父元素的同属性的计算值 computed value。</p></blockquote> <p>非继承属性：</p> <blockquote><p>当元素的一个非继承属性(在 Mozilla code 里有时称之为 reset property )没有指定值时，则取属性的初始值 initial value。</p></blockquote> <p><a href="https://stackoverflow.com/questions/5612302/which-css-properties-are-inherited" target="_blank" rel="noopener noreferrer">Which CSS properties are inherited?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_5-at-规则"><a href="#_5-at-规则" class="header-anchor">#</a> 5. at 规则</h3> <blockquote><p>一个 at-rule 是一个 CSS 语句，以'@'符号开头，后跟一个标识符，并包括直到下一个';'的所有内容，或下一个 CSS 块，以先到者为准。——MDN</p></blockquote> <ul><li><code>@charset</code>, 定义样式表使用的字符集.</li> <li><code>@import</code>, 告诉 CSS 引擎引入一个外部样式表.</li> <li><code>@namespace</code>, 告诉 CSS 引擎必须考虑 XML 命名空间。</li></ul> <p>嵌套@规则, 是嵌套语句的子集, 不仅可以作为样式表里的一个语句，也可以用在条件规则组里：</p> <ul><li><code>@media</code>, 如果满足媒介查询的条件则条件规则组里的规则生效。</li> <li><code>@page</code>, 描述打印文档时布局的变化.</li> <li><code>@font-face</code>, 描述将下载的外部的字体。 -<code>@keyframes</code>, 描述 CSS 动画的中间步骤 .</li> <li><code>@supports</code>, 如果满足给定条件则条件规则组里的规则生效。</li> <li><code>@document</code>, 如果文档样式表满足给定条件则条件规则组里的规则生效。 (推延至 CSS Level 4 规范)</li></ul> <h2 id="css-盒模型"><a href="#css-盒模型" class="header-anchor">#</a> CSS 盒模型</h2> <h3 id="_1-盒模型"><a href="#_1-盒模型" class="header-anchor">#</a> 1. 盒模型</h3> <p>盒模型又称框模型（Box Model）,包含了元素内容（content）、内边距（padding）、边框（border）、外边距（margin）几个要素。</p> <p><img src="https://allin-bucket.oss-cn-beijing.aliyuncs.com/blog/box-model-2019-12-2.png?x-oss-process=style/alin" alt="box-model-2019-12-2.png"></p> <p>由于 IE 盒模型的怪异模式，IE 模型和标准模型的内容计算方式不同。</p> <h3 id="_2-标准模型与-ie-模型的区别"><a href="#_2-标准模型与-ie-模型的区别" class="header-anchor">#</a> 2. 标准模型与 IE 模型的区别</h3> <p><img src="https://allin-bucket.oss-cn-beijing.aliyuncs.com/blog/ie-box-model-2019-12-2.png?x-oss-process=style/alin" alt="ie-box-model-2019-12-2.png"></p> <p>IE 模型元素宽度<strong>width=content+padding</strong>，高度计算相同。</p> <p><img src="https://allin-bucket.oss-cn-beijing.aliyuncs.com/blog/w3c-box-model-2019-12-2.png?x-oss-process=style/alin" alt="w3c-box-model-2019-12-2.png"></p> <p>标准模型元素宽度<strong>width=content</strong>，高度计算相同。</p> <h3 id="_3-css-如何设置获取这两种模型的宽和高"><a href="#_3-css-如何设置获取这两种模型的宽和高" class="header-anchor">#</a> 3. css 如何设置获取这两种模型的宽和高</h3> <p>通过 css3 新增的属性<code>box-sizing: content-box | border-box</code>分别设置盒模型为标准模型（content-box）和 IE 模型（border-box）。</p> <h3 id="_4-javascript-如何设置获取盒模型对应的宽和高"><a href="#_4-javascript-如何设置获取盒模型对应的宽和高" class="header-anchor">#</a> 4. javascript 如何设置获取盒模型对应的宽和高</h3> <ol><li><code>dom.style.width/height</code> 只能取到行内样式的宽和高，style 标签中和 link 外链的样式取不到。</li> <li><code>dom.currentStyle.width/height</code> 取到的是最终渲染后的宽和高，只有 IE 支持此属性。</li> <li><code>window.getComputedStyle(dom).width/height</code> 但是多浏览器支持，IE9 以上支持。</li> <li><code>dom.getBoundingClientRect().width/height</code> 也是得到渲染后的宽和高，大多浏览器支持。IE9 以上支持，除此外还可以取到相对于视窗的上下左右的距离</li></ol> <h2 id="块级上下文-bfc"><a href="#块级上下文-bfc" class="header-anchor">#</a> 块级上下文 BFC</h2> <h3 id="_1-块级格式上下文"><a href="#_1-块级格式上下文" class="header-anchor">#</a> 1. 块级格式上下文</h3> <blockquote><p>块格式化上下文（block formatting context） 是页面 CSS 视觉渲染的一部分。它是用于决定块盒子的布局及浮动相互影响的一个区域。 –<a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Block_formatting_context" target="_blank" rel="noopener noreferrer">MDN 块格式上下文<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>我的理解是，BFC 是一个环境，在这个环境中的元素不会影响到其他环境中的布局，也就是说，处于不同 BFC 中的元素是不会互相干扰的。</p> <h3 id="_2-bfc-的触发条件"><a href="#_2-bfc-的触发条件" class="header-anchor">#</a> 2. BFC 的触发条件</h3> <ul><li>根元素(<code>&lt;html&gt;</code>)</li> <li>浮动元素（元素的 <code>float</code> 不是 <code>none</code>）</li> <li>绝对定位元素（元素的 <code>position</code> 为 <code>absolute</code> 或 <code>fixed</code>）</li> <li>行内块元素（元素的 <code>display</code> 为 <code>inline-block</code>）</li> <li>表格单元格（元素的 <code>display</code> 为 <code>table-cell</code>，HTML 表格单元格默认为该值）</li> <li>表格标题（元素的 <code>display</code> 为 <code>table-caption</code>，HTML 表格标题默认为该值）</li> <li>匿名表格单元格元素（元素的 <code>display</code>为 <code>table</code>、<code>table-row</code>、 <code>table-row-group</code>、<code>table-header-group</code>、<code>table-footer-group</code>（分别是<code>HTML table、row、tbody、thead、tfoot</code>的默认属性）或 <code>inline-table</code>）</li> <li><code>overflow</code> 值不为 <code>visible</code> 的块元素</li> <li><code>display</code> 值为 <code>flow-root</code> 的元素</li> <li><code>contain</code> 值为 <code>layout</code>、<code>content</code>或 <code>paint</code> 的元素</li> <li>弹性元素（<code>display</code>为 <code>flex</code> 或 <code>inline-flex</code>元素的直接子元素）</li> <li>网格元素（<code>display</code>为 <code>grid</code> 或 <code>inline-grid</code> 元素的直接子元素）</li> <li>多列容器（元素的 <code>column-count</code> 或 <code>column-width</code> 不为 <code>auto</code>，包括 <code>column-count</code> 为 1）</li> <li><code>column-span</code> 为 all 的元素始终会创建一个新的 BFC，即使该元素没有包裹在一个多列容器中（标准变更，Chrome bug）。</li></ul> <p>其中，最常见的就是<code>overflow: hidden</code>、<code>float: left/right</code>、<code>position: absolute</code>。也就是说，每次看到这些属性的时候，就代表了该元素以及创建了一个 BFC 了。</p> <h3 id="_3-bfc-的特性"><a href="#_3-bfc-的特性" class="header-anchor">#</a> 3. BFC 的特性</h3> <ol><li>内部的盒会在垂直方向一个接一个排列（可以看作 BFC 中有一个的常规流）；</li> <li>处于同一个 BFC 中的元素相互影响，可能会发生 margin collapse；</li> <li>每个元素的 margin box 的左边，与容器块 border box 的左边相接触(对于从左往右的格式化，否则相反)。即使存在浮动也是如此；</li> <li>BFC 就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素，反之亦然；</li> <li>计算 BFC 的高度时，考虑 BFC 所包含的所有元素，连浮动元素也参与计算；</li> <li>浮动盒区域不叠加到 BFC 上；</li></ol> <h3 id="_4-bfc-的作用"><a href="#_4-bfc-的作用" class="header-anchor">#</a> 4. BFC 的作用</h3> <ol><li>可以阻止外边距折叠</li></ol> <p>两个相连的块级元素在垂直上的外边距会发生叠加，有些把这种情况看作是 bug，但我觉得可能是出于段落排版的考虑，为了令行间距一致才有的这一特性。我们先来看看例子：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>first<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">*</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">p</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #eee<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 1px red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><img src="https://allin-bucket.oss-cn-beijing.aliyuncs.com/blog/css-sup-demo1-2019-12-7.png?x-oss-process=style/alin" alt="css-sup-demo1-2019-12-7.png"></p> <p>从上面可以看出，我们给两个 p 元素都设置<code>margin</code>,但中间的间距却发生了折叠。然后举个 BFC 的例子：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* css */</span>
<span class="token selector">.ele</span> <span class="token punctuation">{</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 1px red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ele<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>first<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ele<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://allin-bucket.oss-cn-beijing.aliyuncs.com/blog/css-sup-demo2-2019-12-7.png?x-oss-process=style/alin" alt="css-sup-demo2-2019-12-7.png"></p> <p>从上面可以看出，我们为每个 div 元素设置<code>overflow</code>的值为<code>hidden</code>,产生一个块级格式上下文，因为外边距不会相互重叠。</p> <ol start="2"><li>可以包含浮动的元素</li></ol> <p>如果块级元素里面包含着浮动元素会发生高度塌陷，但是将它变成一个 BFC 后，BFC 在计算高度时会自动将浮动元素计算在内。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>floatL<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>float<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>floatL<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>float<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">clear</span><span class="token punctuation">:</span>both</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box BFC<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>floatL<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>float<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>floatL<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>float<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">*</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.floatL</span> <span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.BFC</span> <span class="token punctuation">{</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  *<span class="token property">zoom</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><img src="https://allin-bucket.oss-cn-beijing.aliyuncs.com/blog/css-sup-demo3-2019-12-7.png?x-oss-process=style/alin" alt="css-sup-demo3-2019-12-7.png"></p> <p>从运行结果可以看出，如果块级元素里面包含着浮动元素会发生高度塌陷，但是将它变成一个 BFC 后，BFC 在计算高度时会自动将浮动元素计算在内。</p> <ol start="3"><li>可以阻止元素被浮动元素覆盖</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>box1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>box2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">*</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box1</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box2</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span>
  <span class="token comment">/* overflow: hidden; */</span>
  <span class="token comment">/* *zoom: 1; */</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><img src="https://allin-bucket.oss-cn-beijing.aliyuncs.com/blog/css-sup-demo4-2019-12-7.png?x-oss-process=style/alin" alt="css-sup-demo4-2019-12-7.png"></p> <p>从上面看出，当元素浮动后，会与后面的块级元素产生相互覆盖。那怎么解决这个问题，只要为后面的元素创建一个 BFC。添加<code>overflow</code>属性到<code>box2</code>上。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
*<span class="token property">zoom</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://allin-bucket.oss-cn-beijing.aliyuncs.com/blog/css-sup-demo5-2019-12-7.png?x-oss-process=style/alin" alt="css-sup-demo5-2019-12-7.png"></p> <p>这样子阻止了浮动元素重叠的问题。</p> <h3 id="_5-bfc-与-haslayout"><a href="#_5-bfc-与-haslayout" class="header-anchor">#</a> 5. BFC 与 hasLayout</h3> <p>除了使用 <code>overflow: hidden</code> 触发 BFC 外，还使用了一个 <code>*zomm: 1</code> 的属性，这是 IEhack ，因为 IE6-7 并不支持 W3C 的 BFC ，而是使用私有属性 hasLayout 。从表现上来说，hasLayout 跟 BFC 很相似，只是 hasLayout 自身存在很多问题，导致了 IE6-7 中一系列的 bug 。触发 hasLayout 的条件与触发 BFC 有些相似，推荐为元素设置 IE 特有的 CSS 属性 <code>zoom: 1</code> 触发 hasLayout ，zoom 用于设置或检索元素的缩放比例，值为“1”即使用元素的实际尺寸，使用 <code>zoom: 1</code> 既可以触发 hasLayout 又不会对元素造成其他影响，相对来说会更为方便。</p> <!----></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">修订于:</span> <span class="time">2019-12-13 09:34:01</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/html/web-storage.html" class="prev">浏览器本地存储</a></span> <span class="next"><a href="/guide/css/layout.html">布局</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0d36fc07.js" defer></script><script src="/assets/js/2.b6aa8f81.js" defer></script><script src="/assets/js/24.d4de5079.js" defer></script>
  </body>
</html>
